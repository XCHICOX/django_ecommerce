{% extends 'base.html' %}

{% block title %}Configurações de Pagamento{% endblock %}

{% block content %}
<style>
    .settings-container {
        max-width: 600px;
        margin: auto;
        background-color: #f9f9f9;
        padding: 25px;
        border-radius: 8px;
        border: 1px solid #eee;
        font-family: sans-serif;
    }
    .settings-container h2 {
        color: #333;
        border-bottom: 2px solid #f0f0f0;
        padding-bottom: 10px;
    }
    .form-group {
        margin-bottom: 15px;
    }
    .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }
    .form-group input {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
    }
    .save-button {
        background-color: #007bff;
        color: white;
        padding: 12px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        width: 100%;
        margin-top: 20px;
        font-size: 16px;
    }
    .save-button:hover {
        background-color: #0056b3;
    }
    /* Estilos das Abas */
    .tab {
        overflow: hidden;
        border-bottom: 1px solid #ccc;
        margin-bottom: 20px;
    }
    .tab button {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 16px;
        transition: 0.3s;
        font-size: 17px;
    }
    .tab button:hover {
        background-color: #ddd;
    }
    .tab button.active {
        background-color: #ccc;
        border-bottom: 2px solid #007bff;
    }
    .tabcontent {
        display: none;
        padding: 6px 12px;
        border-top: none;
    }
</style>

<div class="settings-container">
    <h2>Configurações de Pagamento</h2>
    <p>Insira as chaves de API para os gateways de pagamento que deseja oferecer em sua loja.</p>

    <div class="tab">
        <button class="tablinks active" onclick="openGateway(event, 'MercadoPago')">Mercado Pago</button>
        <button class="tablinks" onclick="openGateway(event, 'PagSeguro')">PagSeguro</button>
    </div>

    <form method="post">
        {% csrf_token %}
        <div id="MercadoPago" class="tabcontent" style="display: block;">
            <h3>Mercado Pago</h3>
            <div class="form-group">{{ form.mercadopago_api_key.label_tag }} {{ form.mercadopago_api_key }}</div>
        </div>

        <div id="PagSeguro" class="tabcontent">
            <h3>PagSeguro</h3>
            <div class="form-group">{{ form.pagseguro_api_key.label_tag }} {{ form.pagseguro_api_key }}</div>
        </div>
        
        <button type="submit" class="save-button">Salvar Configurações</button>
    </form>
</div>

<script>
function openGateway(evt, gatewayName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(gatewayName).style.display = "block";
    evt.currentTarget.className += " active";
}
</script>
{% endblock %}